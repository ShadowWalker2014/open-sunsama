@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 222.2 47.4% 11.2%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 222.2 84% 4.9%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
  }

  /* Ocean Theme */
  .theme-ocean {
    --primary: 221 83% 53%;
    --primary-foreground: 210 40% 98%;
    --ring: 221 83% 53%;
  }
  .dark.theme-ocean {
    --primary: 217 91% 60%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --ring: 217 91% 60%;
  }

  /* Forest Theme */
  .theme-forest {
    --primary: 142 76% 36%;
    --primary-foreground: 210 40% 98%;
    --ring: 142 76% 36%;
  }
  .dark.theme-forest {
    --primary: 142 71% 45%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --ring: 142 71% 45%;
  }

  /* Sunset Theme */
  .theme-sunset {
    --primary: 24 95% 53%;
    --primary-foreground: 210 40% 98%;
    --ring: 24 95% 53%;
  }
  .dark.theme-sunset {
    --primary: 20 90% 48%;
    --primary-foreground: 210 40% 98%;
    --ring: 20 90% 48%;
  }

  /* Lavender Theme */
  .theme-lavender {
    --primary: 262 83% 58%;
    --primary-foreground: 210 40% 98%;
    --ring: 262 83% 58%;
  }
  .dark.theme-lavender {
    --primary: 263 70% 50%;
    --primary-foreground: 210 40% 98%;
    --ring: 263 70% 50%;
  }

  /* Rose Theme */
  .theme-rose {
    --primary: 330 81% 60%;
    --primary-foreground: 210 40% 98%;
    --ring: 330 81% 60%;
  }
  .dark.theme-rose {
    --primary: 330 90% 66%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --ring: 330 90% 66%;
  }

  /* Amber Theme */
  .theme-amber {
    --primary: 45 93% 47%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --ring: 45 93% 47%;
  }
  .dark.theme-amber {
    --primary: 43 96% 56%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --ring: 43 96% 56%;
  }

  /* Slate Theme */
  .theme-slate {
    --primary: 215 20% 40%;
    --primary-foreground: 210 40% 98%;
    --ring: 215 20% 40%;
  }
  .dark.theme-slate {
    --primary: 215 20% 65%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --ring: 215 20% 65%;
  }

  /* Font Variables */
  :root {
    --font-geist: "Geist", "Geist Sans", system-ui, sans-serif;
    --font-system: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    --font-inter: "Inter", system-ui, sans-serif;
    --font-jetbrains: "JetBrains Mono", "Fira Code", monospace;
  }

  .font-geist { font-family: var(--font-geist); }
  .font-system { font-family: var(--font-system); }
  .font-inter { font-family: var(--font-inter); }
  .font-jetbrains { font-family: var(--font-jetbrains); }

  /* Font family applied to body when class is on html element */
  .font-geist body,
  .font-geist {
    font-family: "Geist", "Geist Sans", system-ui, sans-serif;
  }

  .font-system body,
  .font-system {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  }

  .font-inter body,
  .font-inter {
    font-family: "Inter", system-ui, sans-serif;
  }

  .font-jetbrains body,
  .font-jetbrains {
    font-family: "JetBrains Mono", "Fira Code", monospace;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  /* Subtle focus styles - prevent cut-off rings and reduce visual noise */
  *:focus {
    outline: none;
  }

  *:focus-visible {
    outline: none;
  }
}

/* Custom scrollbar */
@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted-foreground) / 0.3) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.3);
    border-radius: 4px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.5);
  }
}

/* Drag and drop styles */
@layer utilities {
  .drag-handle {
    cursor: grab;
  }

  .drag-handle:active {
    cursor: grabbing;
  }

  .dragging {
    opacity: 0.5;
    transform: scale(1.02);
  }

  .drop-indicator {
    @apply border-2 border-dashed border-primary/50 rounded-lg;
  }
}

/* Animation utilities */
@layer utilities {
  .animate-in {
    animation: animate-in 0.2s ease-out;
  }

  .animate-out {
    animation: animate-out 0.2s ease-out;
  }

  @keyframes animate-in {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes animate-out {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }
}

/* Tiptap Editor File Upload Styles */
@layer components {
  /* Image styling */
  .tiptap-image-wrapper {
    @apply my-3;
  }

  .tiptap-image {
    @apply max-w-full h-auto rounded-lg;
    max-height: 400px;
    object-fit: contain;
  }

  /* Video styling */
  .tiptap-video-wrapper {
    @apply my-3;
  }

  .tiptap-video {
    @apply max-w-full rounded-lg;
    max-height: 400px;
  }

  /* File attachment styling */
  .tiptap-file-attachment-wrapper {
    @apply my-3;
  }

  .tiptap-file-attachment {
    @apply inline-flex items-center gap-3 px-4 py-3 rounded-lg border;
    @apply bg-muted/30 hover:bg-muted/50 transition-colors;
    @apply max-w-sm;
  }

  /* Upload placeholder styling */
  .tiptap-upload-placeholder-wrapper {
    @apply my-3;
  }

  .tiptap-upload-placeholder {
    @apply inline-flex items-center gap-3 px-4 py-3 rounded-lg border border-dashed;
    @apply bg-muted/20 animate-pulse max-w-sm;
  }

  /* Node view wrappers - ensure proper spacing */
  .ProseMirror .tiptap-image-wrapper,
  .ProseMirror .tiptap-video-wrapper,
  .ProseMirror .tiptap-file-attachment-wrapper,
  .ProseMirror .tiptap-upload-placeholder-wrapper {
    @apply block;
  }

  /* Selected node styling */
  .ProseMirror-selectednode .tiptap-image,
  .ProseMirror-selectednode .tiptap-video,
  .ProseMirror-selectednode .tiptap-file-attachment {
    @apply ring-2 ring-primary ring-offset-2;
  }
}
